<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Carrito de compras - CileDreams">
    <title>Carrito - CileDreams</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Pacifico&display=swap" rel="stylesheet">
</head>
<body>
    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/5491158626516?text=Hola!%20Quiero%20consultar%20sobre%20los%20pijamas" class="whatsapp-float" target="_blank" aria-label="Contactar por WhatsApp">
        <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
            <circle cx="30" cy="30" r="30" fill="#25D366"/>
            <path d="M30.5 15C22.5 15 16 21.5 16 29.5C16 32.3 16.9 34.9 18.4 37L16.2 44.8L24.3 42.7C26.3 44 28.8 44.8 31.5 44.8C39.5 44.8 46 38.3 46 30.3C46 22.3 39.5 15 30.5 15ZM39.2 36.8C38.9 37.7 37.4 38.5 36.6 38.6C36 38.7 35.2 38.8 34.3 38.5C33.7 38.3 33 38 32.1 37.6C27.6 35.7 24.7 31.1 24.5 30.8C24.3 30.5 22.7 28.3 22.7 26C22.7 23.7 23.9 22.6 24.3 22.1C24.7 21.6 25.2 21.5 25.5 21.5C25.7 21.5 25.9 21.5 26.1 21.5C26.3 21.5 26.6 21.4 26.9 22.1C27.2 22.8 27.9 24.6 28 24.8C28.1 25 28.2 25.3 28 25.5C27.8 25.8 27.7 26 27.5 26.2C27.3 26.4 27.1 26.7 26.9 26.9C26.7 27.1 26.5 27.3 26.7 27.7C26.9 28.1 27.9 29.7 29.4 31C31.3 32.7 32.8 33.2 33.3 33.4C33.7 33.6 34 33.5 34.2 33.3C34.5 33 35.1 32.3 35.4 31.9C35.7 31.5 36 31.6 36.4 31.7C36.8 31.9 38.6 32.8 39 33C39.4 33.2 39.7 33.3 39.8 33.5C39.9 33.8 39.9 34.5 39.6 35.3C39.5 35.9 39.5 36.4 39.2 36.8Z" fill="white"/>
        </svg>
    </a>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">CileDreams</a>
            <button class="menu-toggle" id="menuToggle" aria-label="Abrir men√∫">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="productos.html">Productos</a></li>
                <li><a href="sobre-mi.html">Sobre Mi</a></li>
                <li><a href="contacto.html">Contacto</a></li>
                <li><a href="carrito.html" class="cart-link active">üõí Carrito (<span id="cartCount">0</span>)</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Tu Carrito</h1>
            <p>Revisa tus productos seleccionados</p>
        </div>
    </section>

    <!-- Cart Section -->
    <section class="cart-section">
        <div class="container">
            <div class="cart-container">
                <!-- Cart Items -->
                <div class="cart-items" id="cartItems">
                    <!-- Items will be loaded by JavaScript -->
                </div>

                <!-- Empty Cart Message -->
                <div id="emptyCart" class="empty-cart" style="display: none;">
                    <div class="empty-cart-icon">üõçÔ∏è</div>
                    <h2>Tu carrito est√° vac√≠o</h2>
                    <p>¬°Descubre nuestros pijamas y encuentra tu favorito!</p>
                    <a href="productos.html" class="btn btn-primary">Ver Productos</a>
                </div>

                <!-- Cart Summary -->
                <div class="cart-summary" id="cartSummary" style="display: none;">
    <h2>Resumen del Pedido</h2>
    <div class="summary-row">
        <span>Subtotal:</span>
        <span id="subtotal">$0</span>
    </div>
    <div class="summary-row total-row">
        <span>Total:</span>
        <span id="total">$0</span>
    </div>

     <!-- NUEVO: Formulario de Datos del Cliente -->
    <div class="checkout-form">
        <h3 class="form-title">Tus Datos para el Env√≠o</h3>
        <div class="form-group">
            <label for="customerName">Nombre y Apellido</label>
            <input type="text" id="customerName" placeholder="Escribe tu nombre completo" required>
        </div>
        <div class="form-group">
            <label for="postalCode">C√≥digo Postal</label>
            <input type="text" id="postalCode" placeholder="Para calcular el env√≠o" required>
        </div>
    </div>
    <!-- FIN NUEVO -->
                    <p class="shipping-note">El costo de env√≠o se calcular√° seg√∫n tu ubicaci√≥n.</p>
                    <button class="btn btn-primary btn-block" id="checkoutBtn">Finalizar Compra por WhatsApp</button>
                    <a href="productos.html" class="btn btn-secondary btn-block">Seguir Comprando</a>
                </div>
            </div>
        </div>
    </section>

   <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3 class="footer-logo">CileDreams</h3>
                    <p>Pijamas que abrazan tus sue√±os. Casa, familia y comodidad = felicidad.</p>
                    <div class="social-links">
                        <a href="https://www.instagram.com/ciledreams/" target="_blank" aria-label="Instagram">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                            </svg>
                        </a>
                        <a href="https://www.facebook.com/ciledreams" target="_blank" aria-label="Facebook">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                        </a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Navegaci√≥n</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="productos.html">Productos</a></li>
                        <li><a href="sobre-mi.html">Sobre Mi</a></li>
                        <li><a href="contacto.html">Contacto</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Informaci√≥n</h4>
                    <ul class="footer-links">
                        <li><a href="talles.html">Gu√≠a de Talles</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contacto</h4>
                    <ul class="footer-contact">
                        <li>üìç Ciudad de Buenos Aires, Argentina</li>
                        <li>üìß ciledreams@gmail.com</li>
                        <li>üì± WhatsApp: +54 9 11 5862-6516</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 CileDreams. Todos los derechos reservados. Hecho con üíô en Argentina.</p>
            </div>
        </div>
    </footer>

    <!-- CLIENTE DE SUPABASE (IMPORTANTE: DEBE SER tipo "module") -->
    <script type="module" src="supabase-client.js"></script>

    <!-- TUS SCRIPTS (tambi√©n deben ser tipo "module" para usar 'import') -->
    <script type="module" src="script.js"></script>
    
    <!-- El script de carrito no necesita ser module si no importa nada -->
    <!-- <script src="carrito.js"></script> -->

    <script type="module" src="carrito.js"></script>
    <!-- ... tu √∫ltimo script ... -->

    <!-- ===== INICIO: Componente de Notificaci√≥n (Toast) ===== -->
    <div id="toast-notification" class="toast">
        <p id="toast-message">Este es un mensaje de prueba.</p>
    </div>
    <!-- ===== FIN: Componente de Notificaci√≥n (Toast) ===== -->

</body>
</html>
